# ğŸ—ï¸ Arquitectura del Sistema - MoviPass

## ğŸ“Š Diagrama de Arquitectura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FRONTEND (React)                        â”‚
â”‚              http://localhost:5173 (no incluido)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ REST API + Socket.IO
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BACKEND (Node.js + Express)                  â”‚
â”‚                      http://localhost:3000                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ AutenticaciÃ³n â”‚  â”‚    Flota      â”‚  â”‚   LogÃ­stica      â”‚   â”‚
â”‚  â”‚   - JWT       â”‚  â”‚ - Cooperativasâ”‚  â”‚   - Rutas        â”‚   â”‚
â”‚  â”‚   - Roles     â”‚  â”‚ - Buses       â”‚  â”‚   - Frecuencias  â”‚   â”‚
â”‚  â”‚   - Email     â”‚  â”‚ - Grupos      â”‚  â”‚   - Generador    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    Ventas     â”‚  â”‚  Operaciones  â”‚  â”‚    Servicios     â”‚   â”‚
â”‚  â”‚ - Tickets     â”‚  â”‚ - QR Validate â”‚  â”‚   - Email        â”‚   â”‚
â”‚  â”‚ - PayPal      â”‚  â”‚ - Manifiesto  â”‚  â”‚   - PayPal       â”‚   â”‚
â”‚  â”‚ - Asientos    â”‚  â”‚ - Gastos      â”‚  â”‚   - PDF/QR       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ Prisma ORM
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PostgreSQL (Docker)                           â”‚
â”‚                    localhost:5438                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Flujo de AutenticaciÃ³n

```
Cliente                    Backend                   Database
  â”‚                          â”‚                          â”‚
  â”‚â”€â”€â”€ POST /auth/register â”€â”€â–ºâ”‚                          â”‚
  â”‚                          â”‚â”€â”€â”€ Create User â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
  â”‚                          â”‚â—„â”€â”€â”€ User Created â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                          â”‚â”€â”€â”€ Send Email (Brevo) â”€â”€â”€â–º
  â”‚â—„â”€â”€â”€ 201 Created â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                          â”‚
  â”‚                          â”‚                          â”‚
  â”‚â”€â”€â”€ GET /verify-email â”€â”€â”€â”€â–ºâ”‚                          â”‚
  â”‚                          â”‚â”€â”€â”€ Update emailVerified â”€â–ºâ”‚
  â”‚â—„â”€â”€â”€ Email Verified â”€â”€â”€â”€â”€â”€â”‚                          â”‚
  â”‚                          â”‚                          â”‚
  â”‚â”€â”€â”€ POST /auth/login â”€â”€â”€â”€â”€â–ºâ”‚                          â”‚
  â”‚                          â”‚â”€â”€â”€ Verify Password â”€â”€â”€â”€â”€â”€â–ºâ”‚
  â”‚                          â”‚â—„â”€â”€â”€ User Data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                          â”‚â”€â”€â”€ Generate JWT Token â”€â”€â”€â”€â”‚
  â”‚â—„â”€â”€â”€ Token â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                          â”‚
```

## ğŸ« Flujo de Compra de Ticket

```
Cliente                Backend              PayPal           Email
  â”‚                      â”‚                    â”‚               â”‚
  â”‚â”€â”€â”€ Search Trips â”€â”€â”€â”€â–ºâ”‚                    â”‚               â”‚
  â”‚â—„â”€â”€â”€ Available â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚               â”‚
  â”‚                      â”‚                    â”‚               â”‚
  â”‚â”€â”€â”€ Get Seat Map â”€â”€â”€â”€â–ºâ”‚                    â”‚               â”‚
  â”‚â—„â”€â”€â”€ Seats â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚               â”‚
  â”‚                      â”‚                    â”‚               â”‚
  â”‚â”€â”€â”€ Reserve Seat â”€â”€â”€â”€â”€â–ºâ”‚                    â”‚               â”‚
  â”‚â—„â”€â”€â”€ Locked (5min) â”€â”€â”€â”‚                    â”‚               â”‚
  â”‚                      â”‚                    â”‚               â”‚
  â”‚â”€â”€â”€ Create Ticket â”€â”€â”€â”€â–ºâ”‚                    â”‚               â”‚
  â”‚                      â”‚â”€â”€â”€ Create Record â”€â”€â–º               â”‚
  â”‚â—„â”€â”€â”€ Ticket ID â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚               â”‚
  â”‚                      â”‚                    â”‚               â”‚
  â”‚â”€â”€â”€ Initiate PayPal â”€â”€â–ºâ”‚                    â”‚               â”‚
  â”‚                      â”‚â”€â”€â”€ Create Payment â”€â–º               â”‚
  â”‚                      â”‚â—„â”€â”€â”€ Approval URL â”€â”€â”€               â”‚
  â”‚â—„â”€â”€â”€ Approval URL â”€â”€â”€â”€â”‚                    â”‚               â”‚
  â”‚                      â”‚                    â”‚               â”‚
  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Pay â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º               â”‚
  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚
  â”‚                      â”‚                    â”‚               â”‚
  â”‚â”€â”€â”€ Execute Payment â”€â”€â–ºâ”‚                    â”‚               â”‚
  â”‚                      â”‚â”€â”€â”€ Execute â”€â”€â”€â”€â”€â”€â”€â”€â–º               â”‚
  â”‚                      â”‚â—„â”€â”€â”€ Approved â”€â”€â”€â”€â”€â”€â”€               â”‚
  â”‚                      â”‚â”€â”€â”€ Update Ticket â”€â”€â”€â–º              â”‚
  â”‚                      â”‚â”€â”€â”€ Generate PDF â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
  â”‚                      â”‚â”€â”€â”€ Send Email â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
  â”‚â—„â”€â”€â”€ Success â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚               â”‚
```

## ğŸšŒ Flujo de GeneraciÃ³n de Viajes

```
Admin                   Backend                Database
  â”‚                       â”‚                      â”‚
  â”‚â”€ Create Route â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                      â”‚
  â”‚                       â”‚â”€â”€â”€ Save Route â”€â”€â”€â”€â”€â”€â–ºâ”‚
  â”‚â—„â”€ Route Created â”€â”€â”€â”€â”€â”€â”‚                      â”‚
  â”‚                       â”‚                      â”‚
  â”‚â”€ Create Frequency â”€â”€â”€â–ºâ”‚                      â”‚
  â”‚                       â”‚â”€â”€â”€ Save Frequency â”€â”€â–ºâ”‚
  â”‚â—„â”€ Frequency Created â”€â”€â”‚                      â”‚
  â”‚                       â”‚                      â”‚
  â”‚â”€ Generate Trips â”€â”€â”€â”€â”€â–ºâ”‚                      â”‚
  â”‚  (startDate,endDate)  â”‚                      â”‚
  â”‚                       â”‚â”€â”€â”€ Get Frequencies â”€â–ºâ”‚
  â”‚                       â”‚â—„â”€â”€â”€ Frequencies â”€â”€â”€â”€â”€â”‚
  â”‚                       â”‚â”€â”€â”€ Get Bus Groups â”€â”€â–ºâ”‚
  â”‚                       â”‚â—„â”€â”€â”€ Buses â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                       â”‚                      â”‚
  â”‚                       â”‚ For each day:        â”‚
  â”‚                       â”‚  - Check day of week â”‚
  â”‚                       â”‚  - Assign bus (rotate)
  â”‚                       â”‚  - Create trip â”€â”€â”€â”€â”€â”€â–ºâ”‚
  â”‚                       â”‚                      â”‚
  â”‚â—„â”€ X Trips Created â”€â”€â”€â”€â”‚                      â”‚
```

## ğŸ” Flujo de ValidaciÃ³n QR

```
Chofer/Oficinista      Backend               Database
      â”‚                  â”‚                      â”‚
      â”‚â”€ Scan QR Code â”€â”€â”€â–ºâ”‚                      â”‚
      â”‚                  â”‚â”€â”€â”€ Find Ticket â”€â”€â”€â”€â”€â–ºâ”‚
      â”‚                  â”‚â—„â”€â”€â”€ Ticket Data â”€â”€â”€â”€â”€â”‚
      â”‚                  â”‚                      â”‚
      â”‚                  â”‚ Validate:            â”‚
      â”‚                  â”‚ âœ“ Status = PAID      â”‚
      â”‚                  â”‚ âœ“ Not used           â”‚
      â”‚                  â”‚ âœ“ Correct date       â”‚
      â”‚                  â”‚ âœ“ Correct trip       â”‚
      â”‚                  â”‚                      â”‚
      â”‚                  â”‚â”€â”€â”€ Mark as USED â”€â”€â”€â”€â–ºâ”‚
      â”‚                  â”‚                      â”‚
      â”‚â—„â”€ âœ… Valid â”€â”€â”€â”€â”€â”€â”€â”‚                      â”‚
      â”‚   Passenger Info â”‚                      â”‚
```

## ğŸ¢ Arquitectura Multi-Tenant (SaaS)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       SUPER ADMIN                           â”‚
â”‚                  (Ve todas las cooperativas)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚               â”‚               â”‚
              â–¼               â–¼               â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Cooperativa â”‚ â”‚ Cooperativa â”‚ â”‚ Cooperativa â”‚
      â”‚      A      â”‚ â”‚      B      â”‚ â”‚      C      â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚               â”‚               â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”       â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”
      â–¼       â–¼       â–¼       â–¼       â–¼       â–¼       â–¼
    Admin  Oficin. Chofer  Admin   Admin  Oficin. Chofer
      â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜
    Solo ven su cooperativa      Solo ven su cooperativa
```

## ğŸ—ƒï¸ Modelo de Datos Simplificado

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cooperativa  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1:N
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                 â”‚
       â–¼ 1:N             â–¼ 1:N
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Bus    â”‚       â”‚  Route   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ N:M              â”‚ 1:N
     â”‚ (via BusGroup)   â”‚
     â”‚                  â–¼
     â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚            â”‚  Frequency  â”‚
     â”‚            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
     â”‚                   â”‚ 1:N
     â”‚                   â–¼
     â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Trip   â”‚
          1:N     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                       â”‚ 1:N
                       â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  Ticket  â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ Estructura de MÃ³dulos

```
src/
â”œâ”€â”€ ğŸ” Auth Module
â”‚   â”œâ”€â”€ Register/Login
â”‚   â”œâ”€â”€ Email Verification
â”‚   â”œâ”€â”€ Password Reset
â”‚   â””â”€â”€ JWT Tokens
â”‚
â”œâ”€â”€ ğŸ¢ SaaS Core
â”‚   â”œâ”€â”€ Multi-tenant
â”‚   â”œâ”€â”€ Cooperativas
â”‚   â””â”€â”€ User Management
â”‚
â”œâ”€â”€ ğŸšŒ Fleet Management
â”‚   â”œâ”€â”€ Buses
â”‚   â”œâ”€â”€ Bus Groups
â”‚   â””â”€â”€ Seat Designer
â”‚
â”œâ”€â”€ ğŸ—ºï¸ Logistics
â”‚   â”œâ”€â”€ Routes
â”‚   â”œâ”€â”€ Frequencies
â”‚   â””â”€â”€ Trip Generator
â”‚
â”œâ”€â”€ ğŸ« Sales & Payments
â”‚   â”œâ”€â”€ Seat Reservation
â”‚   â”œâ”€â”€ Ticket Creation
â”‚   â”œâ”€â”€ PayPal Integration
â”‚   â””â”€â”€ PDF/QR Generation
â”‚
â””â”€â”€ ğŸ“Š Operations
    â”œâ”€â”€ QR Validation
    â”œâ”€â”€ Passenger Manifest
    â”œâ”€â”€ Expense Tracking
    â””â”€â”€ Profit Reports
```

## ğŸ”§ Stack TecnolÃ³gico

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Runtime & Framework             â”‚
â”‚  â€¢ Node.js 18+                          â”‚
â”‚  â€¢ Express.js                           â”‚
â”‚  â€¢ TypeScript                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Database & ORM                  â”‚
â”‚  â€¢ PostgreSQL                           â”‚
â”‚  â€¢ Prisma ORM                           â”‚
â”‚  â€¢ Docker                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         AutenticaciÃ³n                   â”‚
â”‚  â€¢ JWT (jsonwebtoken)                   â”‚
â”‚  â€¢ bcryptjs                             â”‚
â”‚  â€¢ Rate Limiting                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Servicios Externos              â”‚
â”‚  â€¢ Brevo (Email transaccional)          â”‚
â”‚  â€¢ PayPal (Pagos)                       â”‚
â”‚  â€¢ Socket.IO (Real-time)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Utilidades                      â”‚
â”‚  â€¢ Zod (ValidaciÃ³n)                     â”‚
â”‚  â€¢ PDFKit (GeneraciÃ³n de PDF)           â”‚
â”‚  â€¢ QRCode (CÃ³digos QR)                  â”‚
â”‚  â€¢ Multer (Upload de archivos)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Flujo de Despliegue

```
Desarrollo          Testing           ProducciÃ³n
    â”‚                 â”‚                   â”‚
    â”‚  npm run dev    â”‚                   â”‚
    â”‚                 â”‚                   â”‚
    â–¼                 â”‚                   â”‚
Local Server         â”‚                   â”‚
(port 3000)          â”‚                   â”‚
    â”‚                 â”‚                   â”‚
    â”‚  npm test       â”‚                   â”‚
    â”‚                 â–¼                   â”‚
    â”‚            Run Tests                â”‚
    â”‚                 â”‚                   â”‚
    â”‚  npm run build  â”‚                   â”‚
    â”‚                 â–¼                   â”‚
    â”‚            Compile TS               â”‚
    â”‚                 â”‚                   â”‚
    â”‚                 â”‚  Deploy           â”‚
    â”‚                 â”‚                   â–¼
    â”‚                 â”‚              Cloud Server
    â”‚                 â”‚              (Railway, Render,
    â”‚                 â”‚               Heroku, etc.)
    â”‚                 â”‚                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

Este backend estÃ¡ diseÃ±ado para ser:
- âœ… **Escalable**: Arquitectura modular
- âœ… **Seguro**: JWT, rate limiting, validaciones
- âœ… **Multi-tenant**: Aislamiento de datos por cooperativa
- âœ… **En tiempo real**: Socket.IO para actualizaciones
- âœ… **Documentado**: CÃ³digo claro y bien comentado
- âœ… **Mantenible**: TypeScript + Prisma ORM

Â¡Listo para producciÃ³n! ğŸš€
